<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Tripisco API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://tripisco.com'>Back to Tripisco</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="tripisco-api">Tripisco API</h1>

<p><a href="https://tripisco.com">Tripisco</a> is a business-to-business booking where you could get commissions
from each successful booking you made, uncancelled.</p>

<p>This is the API documentation that will you to integrate and connect with our service.</p>

<h2 id="access-authorization">Access Authorization</h2>

<p>All APIs served by Tripisco is protected behind an Authorization layer.</p>

<p>To get authorized, client will need to supply a basic authorization header
for each API call. The value for the header is generated as follow:</p>

<ol>
<li>Make text in format <code class="prettyprint">id:password</code>, for example: <code class="prettyprint">A000001:TCO-Server-12345678</code>.</li>
<li>Encode in strict base64: <code class="prettyprint">QTAwMDAwMTpUQ08tU2VydmVyLTEyMzQ1Njc4</code>.</li>
<li>Embed the encoded id-password pair above in the <code class="prettyprint">Authorization</code> header: <code class="prettyprint">Basic QTAwMDAwMTpUQ08tU2VydmVyLTEyMzQ1Njc4</code>.</li>
</ol>

<p>The <code class="prettyprint">id</code> represents your agent&rsquo;s ID, and the password is your server key. Both
can be obtained after you had registered with Tripisco.</p>

<h2 id="response-type">Response type</h2>

<p>There are two types of response:</p>

<blockquote>
<p>Valid response body</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adam@tripisco.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f2fd1573-5309-4dc9-aa40-64620dca8bba"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<ol>
<li>Valid response, which indicate there is no error in the server side and that the request is legitimate. It always has <code class="prettyprint">response</code> body.</li>
<li>Erratic response, which indicate the request as being illegitimate or containing some error. It always has <code class="prettyprint">error</code> body.</li>
</ol>

<blockquote>
<p>Erratic response body</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ERRKEY"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Server key illegitimate"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>There is no way a response is both having an <code class="prettyprint">error</code> and a <code class="prettyprint">response</code> body. Also, 
all response always contain the version ID of the producing API.</p>

<h2 id="postman-collection">Postman collection</h2>

<p>We provide a postman collection of API calls which you can experiment with and
incorporate to your app. <a href="https://www.getpostman.com/collections/1eb5f910985639fec5ab">Here is the postman collection for you</a>.</p>

          <h1 id="accounts">Accounts</h1>

<h2 id="signup">Signup</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/accounts/signup</td>
</tr><tr><td>Method</td><td>POST</td></tr></table>

<blockquote>
<p>Successful registration response body</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tommy2@tripisco.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PT. Tripisco"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>merchant_name</td>
<td>String</td>
<td>Y</td>
<td>Name of the agent</td>
</tr>
<tr>
<td>merchant_phone</td>
<td>String</td>
<td>Y</td>
<td>Phone of the agent</td>
</tr>
<tr>
<td>merchant_address</td>
<td>String</td>
<td>Y</td>
<td>Physical address of the agent</td>
</tr>
<tr>
<td>user_email</td>
<td>String</td>
<td>Y</td>
<td>Email address of the agent, used for login</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Y</td>
<td>Password used for logging into the system</td>
</tr>
</tbody></table>

<p>All the fields above have to be sent, or otherwise a <code class="prettyprint">WRGINP</code> error be raised.
If a user with the same email is found, a <code class="prettyprint">DUPDAT</code> error will be raised.
Else, registration must be successful.</p>

<h2 id="login">Login</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/accounts/login</td>
</tr><tr><td>Method</td><td>POST</td></tr></table>

<p>Parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>String</td>
<td>Y</td>
<td>Email of the user intending to sign in</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Y</td>
<td>Password of the user intending to sign in</td>
</tr>
</tbody></table>

<blockquote>
<p>Successful login response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adam@tripisco.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15ad7047-31f5-4fdd-9df1-4f6df9321948"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>email</td>
<td>String</td>
<td>Y</td>
<td>The email for which the token is generated</td>
</tr>
<tr>
<td>password</td>
<td>String</td>
<td>Y</td>
<td>The generated token to identify the user’s session</td>
</tr>
</tbody></table>

<h2 id="logout">Logout</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/accounts/logout</td>
</tr><tr><td>Method</td><td>DELETE</td></tr></table>

<p>Parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>String</td>
<td>Y</td>
<td>The token that get generated after the user is signed in</td>
</tr>
</tbody></table>

<p>Successful response is a JSON document containing:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">inactive</code></td>
<td>Boolean</td>
<td>Indicating if the user should already be inactive/logged out</td>
</tr>
</tbody></table>

          <h1 id="bookings">Bookings</h1>

<p>Booking APIs allow you to do this list listing a user&rsquo;s booking records,
make payment for the user&rsquo;s booking, and so on.</p>

<p>A booking has a status either one of:</p>

<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UNPAID</td>
<td>The booking is not yet paid.</td>
</tr>
<tr>
<td>PAID</td>
<td>The booking is successfully paid, but no ticket is issued yet.</td>
</tr>
<tr>
<td>RESERVED</td>
<td>Booking is paid, and the ticket is already issued.</td>
</tr>
<tr>
<td>PENDING</td>
<td>Payment is made but the supplier has not acknowledge the booking request.</td>
</tr>
<tr>
<td>CANCELLED</td>
<td>The booking is cancelled due to out of time, customer using fraudulent card, etc.</td>
</tr>
<tr>
<td>ERROR</td>
<td>There was an error performing the booking, unrecoverable. Very rare to happen.</td>
</tr>
</tbody></table>

<p>The <code class="prettyprint">PAID</code> status essentially waiting the hotel partner to acknowledge the booking.
It doesn&rsquo;t take a long time for the booking to be <code class="prettyprint">RESERVED</code>. In fact,
most of the time the <code class="prettyprint">PAID</code> status is unnoticable.</p>

          <h2 id="get-booking">Get booking</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/books/by_id</td>
</tr><tr><td>Method</td><td>GET</td></tr></table>

<p>This get booking by ID endpoint can be used to get specific booking data.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A00052"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"doer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88FD5AE951"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ticket_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adam.pahlevi@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HOTEL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"booking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BF50814"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNPAID"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"checkin_instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cancellation_policy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kami memahami bahwa kadang kala rencana tidak berjalan seperti yang diharapkan. Tidak dikenakan biaya perubahan atau pembatalan. Namun demikian, properti ini (Capsule Homestay Surabaya) memberlakukan denda berikut kepada pelanggan yang perlu kami informasikan: pembatalan atau perubahan yang dibuat setelah pukul 18:00 ((GMT+07:00) Bangkok, Hanoi, Jakarta) tanggal 05 Mar 17 akan dikenakan denda sebesar harga 1 Kamar &amp; Pajak."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDR"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89999.0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">8999900</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adam Pahlevi"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baihaqi"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"hand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"08151666433"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"home"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3953672"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jalan Beton"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gresik"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61151"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>List of parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Y</td>
<td>The ID of the booking that want to be retrieved</td>
</tr>
</tbody></table>

<h3 id="listing-bookings-response">Listing bookings response</h3>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent</td>
<td>String</td>
<td>The agent/company/merchant ID</td>
</tr>
<tr>
<td>doer</td>
<td>String</td>
<td>The user registered at the agent that made the booking request</td>
</tr>
<tr>
<td>ticket_email</td>
<td>String</td>
<td>The email address to which the ticket will be sent to</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>What the booking is made for</td>
</tr>
<tr>
<td>booking</td>
<td>Object</td>
<td>An object that specify in detail about the booking, its status, and policies</td>
</tr>
<tr>
<td>rate</td>
<td>Object</td>
<td>An object containing the final pricing, and in what currency</td>
</tr>
<tr>
<td>contact</td>
<td>Object</td>
<td>Specify the person contactable for the booking</td>
</tr>
</tbody></table>

          <h2 id="listing-bookings">Listing bookings</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/books/all</td>
</tr><tr><td>Method</td><td>GET</td></tr></table>

<p>This listing endpoint allows you to retrieve all the booking requests
that you send to Tripisco. This API paginate the response, each page contains
10 booking records.</p>

<p>List of parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_token</td>
<td>String</td>
<td>Y</td>
<td>Token of the logged in user, if invalid an <code class="prettyprint">INVCRED</code> error will be raised.</td>
</tr>
<tr>
<td>page</td>
<td>String</td>
<td>N</td>
<td>The page to be requested, index starts from 1. It raises <code class="prettyprint">WRGINP</code> if the given value is less than 1.</td>
</tr>
<tr>
<td>status</td>
<td>String</td>
<td>N</td>
<td>Filtering by the status, raises a <code class="prettyprint">WRGINP</code> if not one of the known status above.</td>
</tr>
</tbody></table>

<h3 id="listing-bookings-response">Listing bookings response</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_next"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[{}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>Integer</td>
<td>Indicate the current page</td>
</tr>
<tr>
<td>total</td>
<td>Integer</td>
<td>Number of all records</td>
</tr>
<tr>
<td>has_next</td>
<td>Boolean</td>
<td>Indicate if there is a next page that contains other records</td>
</tr>
<tr>
<td>bookings</td>
<td>Object</td>
<td>Data of booking, similar to the object returned when booking a hotel, or get a booking by ID</td>
</tr>
</tbody></table>

          <h1 id="hotels">Hotels</h1>

          <h2 id="search-request">Search request</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/hotels/search</td>
</tr><tr><td>Method</td><td>GET</td></tr></table>

<p>Search parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sorter</td>
<td>String</td>
<td>Y</td>
<td>Ordering of the return, currently only support <code class="prettyprint">BUDGET</code>.</td>
</tr>
<tr>
<td>arrival_date</td>
<td>String</td>
<td>Y</td>
<td>Date of checkin</td>
</tr>
<tr>
<td>departure_date</td>
<td>String</td>
<td>Y</td>
<td>Date of checkout</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>Y</td>
<td>Name of the city</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>N</td>
<td>Name of the hotel</td>
</tr>
<tr>
<td>min_rating</td>
<td>Integer</td>
<td>Y</td>
<td>Minimal quality of hotels in the range of 1 to 5</td>
</tr>
<tr>
<td>max_rating</td>
<td>Integer</td>
<td>Y</td>
<td>Maximal quality of hotels in the range of 1 to 5</td>
</tr>
<tr>
<td>adults_count</td>
<td>Integer</td>
<td>Y</td>
<td>Number of adults occupying the room</td>
</tr>
<tr>
<td>children_count</td>
<td>Integer</td>
<td>N</td>
<td>Number of children occupying the room</td>
</tr>
</tbody></table>

<h3 id="search-with-children">Search with children</h3>

<p>When there are children (more than 0), age must be submitted in the format of
<code class="prettyprint">child_age_n</code> whereby n is the index of the children ages.</p>

<p>Supposed that there are two children, then additional data must be
supplied as follow.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>child_age_0</td>
<td>Integer</td>
<td>Y</td>
<td>Age of the first children</td>
</tr>
<tr>
<td>child_age_1</td>
<td>Integer</td>
<td>Y</td>
<td>Age of the second children</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>

<blockquote>
<p>Response with hotel results</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HOTEL_SEARCH_RESULTS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[{}],</span><span class="w">
      </span><span class="nt">"sorter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">""</span><span class="p">],</span><span class="w">
      </span><span class="nt">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some-data"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"amenities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">""</span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If the hotel search can be performed without further clarification, a JSON object
with <code class="prettyprint">response.type</code> key is set to <code class="prettyprint">HOTEL_SEARCH_RESULTS</code>.</p>

<p>If a location clarification is needed to avoid ambiguities,
a document with <code class="prettyprint">response.type</code> set to <code class="prettyprint">HOTEL_ALTERNATIVE_LOCATIONS</code> is returned.</p>

<p>Response body:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>String</td>
<td>Type of documents returned, either <code class="prettyprint">HOTEL_SEARCH_RESULTS</code> or <code class="prettyprint">HOTEL_ALTERNATIVE_LOCATIONS</code></td>
</tr>
<tr>
<td>data</td>
<td>Object</td>
<td>The result document</td>
</tr>
<tr>
<td>data.count</td>
<td>Integer</td>
<td>Number of hotels</td>
</tr>
<tr>
<td>data.results</td>
<td>Object[]</td>
<td>Each individual Hotel object</td>
</tr>
<tr>
<td>data.sorter</td>
<td>String[]</td>
<td>The available sorter</td>
</tr>
<tr>
<td>data.session_id</td>
<td>String</td>
<td>Use this for subsequent detail request and booking attempt.</td>
</tr>
<tr>
<td>data.amenities</td>
<td>String[]</td>
<td>Array of String of all possible amenities for filtering the hotel result</td>
</tr>
</tbody></table>

<h3 id="success-response">Success response</h3>

<p>On success response, Tripisco will return list of hotels inside <code class="prettyprint">results</code> array
within <code class="prettyprint">response.data</code>.</p>

<blockquote>
<p>Example of result data</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">572068</span><span class="p">,</span><span class="w">
    </span><span class="nt">"view_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Studio Hotel Surabaya - Backpacker"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jln. Sumatra 20 C Surabaya"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Surabaya"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value_adds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"amenities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Restaurant"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Breakfast"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Parking"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Free Parking"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"undiscounted"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rp 131.900,00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rp 99.173,00"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"small_allotment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_allotment"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Each of the <code class="prettyprint">result</code> element from a given document consists of the following fields:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Hotel ID</td>
</tr>
<tr>
<td>view_url</td>
<td>String</td>
<td>URL address of displaying this hotel in Tripisco&rsquo;s dashboard</td>
</tr>
<tr>
<td>thumbnail_url</td>
<td>String</td>
<td>URL for the image to be used as thumbnail</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>Name of the hotel</td>
</tr>
<tr>
<td>location</td>
<td>String</td>
<td>Address where the hotel can be found</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>City of the location</td>
</tr>
<tr>
<td>rating</td>
<td>String</td>
<td>Star rating scaling from 1 to 5</td>
</tr>
<tr>
<td>value_adds</td>
<td>String</td>
<td>Any value added from booking this hotel</td>
</tr>
<tr>
<td>amenities</td>
<td>String</td>
<td>Facilities at hotel&rsquo;s premise</td>
</tr>
<tr>
<td>rate.undiscounted</td>
<td>String</td>
<td>Original price</td>
</tr>
<tr>
<td>rate.current</td>
<td>String</td>
<td>Original price after discount, which is the final price</td>
</tr>
<tr>
<td>small_allotment</td>
<td>Boolean</td>
<td>Indication of limited offering</td>
</tr>
<tr>
<td>current_allotment</td>
<td>Integer</td>
<td>Number of free allotment</td>
</tr>
</tbody></table>

<p>See the body response in detail at the section for the detail request.</p>

<h3 id="search-returning-various-locations">Search returning various locations</h3>

<blockquote>
<p>Response asking location clarifications</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HOTEL_ALTERNATIVE_LOCATIONS"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0275996B-B8AA-46AE-B1CA-DD4690FFAF0D"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kota"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"India"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FE39D864-50E1-4CE4-84D4-D8FB1BB04801"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kota"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Japan"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>User may input ambiguous location name. On which,
Tripisco API will return a <code class="prettyprint">HOTEL_ALTERNATIVE_LOCATIONS</code> response type
where implementer needs to display something for the user to select from,
to clarify the location he wanted to search.</p>

<p>The <code class="prettyprint">data</code> body of <code class="prettyprint">HOTEL_ALTERNATIVE_LOCATIONS</code> consist of the following fields:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td>Location ID, use this to search next rather than user&rsquo;s provided input</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>The city name</td>
</tr>
<tr>
<td>country</td>
<td>String</td>
<td>Country name where the city is located</td>
</tr>
</tbody></table>

          <h2 id="detail-request">Detail request</h2>

<table><tbody><tr><td>Base URL</td><td>/api/v1/hotels/detail</td>
</tr><tr><td>Method</td><td>GET</td></tr></table>

<p>This detail request API allows you to get more detail about the hotel in particular.</p>

<p>Detail request parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>arrival_date</td>
<td>String</td>
<td>Y</td>
<td>Date of checkin (dd/mm/yyyy)</td>
</tr>
<tr>
<td>departure_date</td>
<td>String</td>
<td>Y</td>
<td>Date of checkout (dd/mm/yyyy)</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>Y</td>
<td>Name of the city</td>
</tr>
<tr>
<td>session_id</td>
<td>String</td>
<td>Y</td>
<td>Session ID as returned since the search request</td>
</tr>
<tr>
<td>hotel_id</td>
<td>String</td>
<td>Y</td>
<td>Hotel ID which detail is requested</td>
</tr>
</tbody></table>

<h3 id="detail-response">Detail response</h3>

<blockquote>
<p>Hotel detail response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"storage_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsco88a_fa36ba5f-abcdef"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"arrival"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/02/2017"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"departure"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/09/2017"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"arrival_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 02 Feb 2017"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"departure_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 09 Feb 2017"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"hotel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">572068</span><span class="p">,</span><span class="w">
    </span><span class="nt">"view_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Studio Hotel Surabaya - Backpacker"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jln. Sumatra 20 C"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Surabaya"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rating"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value_adds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nt">"amenities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Antar-jemput gratis ke kawasan sekitar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Bar/lounge"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Wi-Fi gratis"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"bed_types"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"13"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 double"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"undiscounted"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"small_allotment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"current_allotment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hostel ini jaraknya ..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"checkin_instruction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ketahui Sebelum Anda ..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"check_in_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2:00 PM"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"check_out_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:00 PM"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"area_info"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Monumen Bambu Runcing - 0,6 km"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Balai Pemuda - 0,6 km"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Monumen Kapal Selam - 0,6 km"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"caption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Featured Image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hotel.cdn.tripisco.com/..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hotel.cdn.tripisco.com/..."</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"caption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guestroom"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hotel.cdn.tripisco.com/..."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"thumbnail_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://hotel.cdn.tripisco.com/..."</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"hotel_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">572068</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asrama Umum, 1 tempat tidur single"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"http://hotel.cdn.tripisco.com/..."</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http://hotel.cdn.tripisco.com/..."</span><span class="p">,</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"type_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201421658"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amenities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"AC"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Air minum kemasan gratis"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Wi-Fi gratis"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eaef5b47-4a2b-4964-b6e0-9a6885d3f609-5212"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">207037461</span><span class="p">,</span><span class="w">
          </span><span class="nt">"is_refundable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"require_guarantee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nt">"require_deposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">840000</span><span class="p">,</span><span class="w">
          </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDR"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"nightly"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">99173</span><span class="p">,</span><span class="w">
            </span><span class="mi">99173</span><span class="p">,</span><span class="w">
            </span><span class="mi">99173</span><span class="p">,</span><span class="w">
            </span><span class="mi">99173</span><span class="p">,</span><span class="w">
            </span><span class="mi">99173</span><span class="p">,</span><span class="w">
            </span><span class="mi">99173</span><span class="p">,</span><span class="w">
            </span><span class="mi">99173</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"surcharge_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">145789</span><span class="p">,</span><span class="w">
          </span><span class="nt">"surcharges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"caption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tax Recovery Charges and Service Fees"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"145789.00"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"policy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"cancellation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kami memahami ..."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"guest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"min_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"adults_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"children_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nt">"children_ages"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Hotel object have similar body with search request, but there are additional
fields as well. It is designed this way so that implementor needs only to have one
Hotel class/struct.</p>

<p>Those detail-only additional fields are:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>String</td>
<td>Description of the property</td>
</tr>
<tr>
<td>checkin_instruction</td>
<td>String</td>
<td>Instruction and regulation for checking into the property</td>
</tr>
<tr>
<td>check_in_time</td>
<td>String</td>
<td>Scheduled time of check-in</td>
</tr>
<tr>
<td>check_out_time</td>
<td>String</td>
<td>Scheduled time of check-out</td>
</tr>
<tr>
<td>area_info</td>
<td>String[]</td>
<td>Array of places of interest around the property</td>
</tr>
<tr>
<td>images</td>
<td>Object[]</td>
<td>Array of object for image consisting the URL, thumbnail and caption</td>
</tr>
<tr>
<td>rooms</td>
<td>Object[]</td>
<td>Array of object representing each room available for booking</td>
</tr>
</tbody></table>

<h3 id="area_info-array"><code class="prettyprint">area_info</code> Array</h3>

<p>The area info is list of any places of interest nearby the hotel. Each element
of the array is of type string.</p>

<h3 id="images-array"><code class="prettyprint">images</code> Array</h3>

<p><code class="prettyprint">images</code> data contains image object with the following fields:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>caption</td>
<td>String</td>
<td>Title of the image</td>
</tr>
<tr>
<td>url</td>
<td>String</td>
<td>URL of the full size of the image</td>
</tr>
<tr>
<td>thumbnail_url</td>
<td>String</td>
<td>A URL for the thumbnail version of the image</td>
</tr>
</tbody></table>

<h3 id="rooms-array"><code class="prettyprint">rooms</code> Array</h3>

<p><code class="prettyprint">rooms</code> data contains room object with the following fields:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hotel_id</td>
<td>String</td>
<td>The hotel ID of the room, must be the same with hotel ID of the hotel</td>
</tr>
<tr>
<td>name</td>
<td>String</td>
<td>The room name</td>
</tr>
<tr>
<td>images</td>
<td>String[]</td>
<td>Array of images of the room</td>
</tr>
<tr>
<td>type_code</td>
<td>String</td>
<td>Code for the room</td>
</tr>
<tr>
<td>amenities</td>
<td>String[]</td>
<td>Facilities at the room</td>
</tr>
<tr>
<td>bed_types</td>
<td>Object</td>
<td>Key-value representation of bed ID and the bed title</td>
</tr>
<tr>
<td>rate</td>
<td>Object</td>
<td>The rate object</td>
</tr>
</tbody></table>

<div class='image'>
  <img src="images/bed-variation.jpg">
  <h5>Bed variation option for a certain room.</h5>
</div>

<p>You should display a select box or the likes for each bed type in <code class="prettyprint">bed_types</code>.
Most of the time <code class="prettyprint">bed_types</code> will only return a single key with its
associated value, but for certain room it may allow customer to
select the bed type.</p>

<h3 id="room-rate-object"><code class="prettyprint">room.rate</code> Object</h3>

<p><code class="prettyprint">rate</code> object within <code class="prettyprint">rooms</code> data contains the following fields:</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>String</td>
<td>The key indicate parameters that leading to this rate</td>
</tr>
<tr>
<td>code</td>
<td>String</td>
<td>Indicating the whole rate code body</td>
</tr>
<tr>
<td>is_refundable</td>
<td>Boolean</td>
<td>Whether the customer later can ask for refund</td>
</tr>
<tr>
<td>require_guarantee</td>
<td>Boolean</td>
<td>Whether the customer will be charged for guarantee upon checking in</td>
</tr>
<tr>
<td>require_deposit</td>
<td>Boolean</td>
<td>Whether the customer will be charged for deposit fee upon checking in</td>
</tr>
<tr>
<td>total</td>
<td>Double</td>
<td>Total amount of money that will be charged</td>
</tr>
<tr>
<td>currency</td>
<td>String</td>
<td>The currency used for charging the customer</td>
</tr>
<tr>
<td>nightly</td>
<td>Double[]</td>
<td>Array of room rate per night stay, without tax</td>
</tr>
<tr>
<td>surcharge_total</td>
<td>Double</td>
<td>All additional charges</td>
</tr>
<tr>
<td>surcharges</td>
<td>Object[]</td>
<td>Detail of each surcharge</td>
</tr>
<tr>
<td>policy</td>
<td>Object</td>
<td>Contains <code class="prettyprint">cancellation</code> field about the cancellation policy</td>
</tr>
<tr>
<td>guest</td>
<td>Object</td>
<td>Guest detail fields for the room</td>
</tr>
</tbody></table>

          <h2 id="availability-request">Availability request</h2>

<p>Call the availability request when displaying the booking form in your app,
It helps ensure the room availability as well as locking the price from
fluctuating.</p>

<table><tbody><tr><td>Base URL</td><td>/api/v1/hotels/available</td>
</tr><tr><td>Method</td><td>GET</td></tr></table>

<p>Data from this call have to be displayed on the booking form. Those
data are:</p>

<ul>
<li>Hotel name, and its location</li>
<li>The check-in and check-out date</li>
<li>Rate name</li>
<li>Bed type</li>
<li>Detail of the rates per night</li>
<li>Total of nightly rates</li>
<li>Detail of the surcharges</li>
<li>Total of surcharge</li>
<li>Detail of additional hotel fees</li>
<li>Total of hotel fees</li>
<li>All total chargeable rate</li>
<li>Indication if refundable</li>
<li>Indication if require deposit</li>
<li>The guest detail (minimum age, how many adults and children)</li>
</ul>

<p>Availability request parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>storage_id</td>
<td>String</td>
<td>Y</td>
<td>Storage ID help ensure the request body is not tempered</td>
</tr>
<tr>
<td>room_bed_type</td>
<td>String</td>
<td>Y</td>
<td>Type of the bed, from the key associated to <code class="prettyprint">bed_types</code></td>
</tr>
<tr>
<td>rate_code</td>
<td>String</td>
<td>Y</td>
<td>Rate code of the room in question, from field &lsquo;rate.code’</td>
</tr>
<tr>
<td>room_type_code</td>
<td>String</td>
<td>Y</td>
<td>Type code of the room in question, from field <code class="prettyprint">type_code</code></td>
</tr>
</tbody></table>

<p>All of the parameters needed above is available since the detail request.</p>

<h3 id="availability-response">Availability response</h3>

<blockquote>
<p>Hotel availability response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"bed_type_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"bed_type_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 double"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hotel"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"572068"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Studio Hotel Surabaya - Backpacker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jln. Sumatra 20 C"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Surabaya"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ID"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"arrival"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/02/2017"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"departure"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02/09/2017"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"arrival_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 02 Feb 2017"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"departure_text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thu, 09 Feb 2017"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Asrama Umum, 1 tempat tidur double"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"currency_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDR"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"nightly_rate_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1157016</span><span class="p">,</span><span class="w">
      </span><span class="nt">"nightly_rates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">165288</span><span class="p">,</span><span class="w">
        </span><span class="mi">165288</span><span class="p">,</span><span class="w">
        </span><span class="mi">165288</span><span class="p">,</span><span class="w">
        </span><span class="mi">165288</span><span class="p">,</span><span class="w">
        </span><span class="mi">165288</span><span class="p">,</span><span class="w">
        </span><span class="mi">165288</span><span class="p">,</span><span class="w">
        </span><span class="mi">165288</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"nightly_dates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"February  2, 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"February  3, 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"February  4, 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"February  5, 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"February  6, 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"February  7, 2017"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"February  8, 2017"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"refundable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"require_deposit"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"require_guarantee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"surcharge_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">242977</span><span class="p">,</span><span class="w">
      </span><span class="nt">"surcharges"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"caption"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tax Recovery Charges and Service Fees"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"242977.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"hotel_fees"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"hotel_fees_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1399993</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"guest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"min_age"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"adults_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"children_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"children_ages"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Hotel availability may raise <code class="prettyprint">NOTAVL</code> error if the hotel being checked is no
longer offering room. <code class="prettyprint">NOTAVL</code> can also occur if you send an old/outdated request.
Otherwise, a success response is given.</p>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bed_type_id</td>
<td>String</td>
<td>ID of the bed selection</td>
</tr>
<tr>
<td>bed_type_description</td>
<td>String</td>
<td>Bed name</td>
</tr>
<tr>
<td>hotel</td>
<td>Object</td>
<td>Hotel object with minimal, essential data</td>
</tr>
<tr>
<td>date</td>
<td>Object</td>
<td>The date object</td>
</tr>
<tr>
<td>rate</td>
<td>Object</td>
<td>The rate object</td>
</tr>
<tr>
<td>guest</td>
<td>Object</td>
<td>The guest object</td>
</tr>
</tbody></table>

<h3 id="rate-object"><code class="prettyprint">rate</code> object</h3>

<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>String</td>
<td>The room name</td>
</tr>
<tr>
<td>currency_code</td>
<td>String</td>
<td>ISO-4217 code to represent the currency the amount is represented</td>
</tr>
<tr>
<td>nightly_rate_total</td>
<td>Double</td>
<td>Summary of rate per night, without tax</td>
</tr>
<tr>
<td>nightly_rates</td>
<td>Double[]</td>
<td>Array of rates per night since check-in to the day before check-out</td>
</tr>
<tr>
<td>nightly_dates</td>
<td>String[]</td>
<td>Date of each chargable nightly rate</td>
</tr>
<tr>
<td>refundable</td>
<td>Boolean</td>
<td>Indicating if the booking can be refunded</td>
</tr>
<tr>
<td>require_deposit</td>
<td>Boolean</td>
<td>Indicating if deposit at the hotel is needed upon check-in, and can be returned upon check-out according to the check-in terms</td>
</tr>
<tr>
<td>require_guarantee</td>
<td>Boolean</td>
<td>If the hotel will deduct amount when customer cannot check-in at the given time, or cancelling after the cancellation deadline</td>
</tr>
<tr>
<td>surcharge_total</td>
<td>Double</td>
<td>Total of all taxes and service related charges</td>
</tr>
<tr>
<td>surcharges</td>
<td>Object[]</td>
<td>Array with object to give detail of each charge</td>
</tr>
<tr>
<td>hotel_fees</td>
<td>Float[]</td>
<td>Detail of additional fees that will be charged upon check-in, the fees will not be part of the booking price</td>
</tr>
<tr>
<td>hotel_fees_total</td>
<td>Float</td>
<td>Total of hotel fees the customer will be charged upon check-in, the fees will not be part of the booking price</td>
</tr>
<tr>
<td>total</td>
<td>Float</td>
<td>Total amount of chargeable fee so that a booking itinerary can be made</td>
</tr>
</tbody></table>

          <h2 id="booking-request">Booking request</h2>

<p>Calling this API will create a booking record at Tripisco. However,
the booking will have an <code class="prettyprint">UNPAID</code> status. For making payment to the
booking, a call to the pay API is required.</p>

<table><tbody><tr><td>Base URL</td><td>/api/v1/hotels/book</td>
</tr><tr><td>Method</td><td>POST</td></tr></table>

<blockquote>
<p>Example of a booking request payload</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dirga Pahlevi"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nusantara"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hand_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"085607071341"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"home_phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3953672"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jalan Sagu"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gresik"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postal_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61151"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ticket_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adam@tripisco.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"storage_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tsco88a_cdcc34c0-5ac6-4baf-b066-a5d63437d325"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"782cd05c-80c8-4be4-afd7-c362773b028e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Booking request parameters:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_token</td>
<td>String</td>
<td>Y</td>
<td>Token of the logged in user, if invalid an <code class="prettyprint">INVCRED</code> error will be raised.</td>
</tr>
<tr>
<td>first_name</td>
<td>String</td>
<td>Y</td>
<td>First/given name of the customer.</td>
</tr>
<tr>
<td>last_name</td>
<td>String</td>
<td>Y</td>
<td>Last/family name of the customer.</td>
</tr>
<tr>
<td>hand_phone</td>
<td>String</td>
<td>Y</td>
<td>The customer&rsquo;s mobile phone number.</td>
</tr>
<tr>
<td>home_phone</td>
<td>String</td>
<td>Y</td>
<td>The customer&rsquo;s home phone number.</td>
</tr>
<tr>
<td>address</td>
<td>String</td>
<td>Y</td>
<td>The customer&rsquo;s home address.</td>
</tr>
<tr>
<td>country_code</td>
<td>String</td>
<td>N</td>
<td><a href="https://www.iso.org/obp/ui/#search">Alpha2</a> country code (eg. ID, KR).</td>
</tr>
<tr>
<td>province_code</td>
<td>String</td>
<td>N</td>
<td>Code for the province/subregion.</td>
</tr>
<tr>
<td>city</td>
<td>String</td>
<td>N</td>
<td>Name of the city of the customer&rsquo;s home address.</td>
</tr>
<tr>
<td>postal_code</td>
<td>String</td>
<td>Y</td>
<td>Postal code of the home address.</td>
</tr>
<tr>
<td>ticket_email</td>
<td>String</td>
<td>Y</td>
<td>Email address of which the itinerary ticket be sent to.</td>
</tr>
<tr>
<td>storage_id</td>
<td>String</td>
<td>Y</td>
<td>Storage ID as provided in the availability request.</td>
</tr>
</tbody></table>

<h3 id="hotel-booking-response">Hotel booking response</h3>

<blockquote>
<p>Hotel booking response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A00052"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"doer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88FD5AE951"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"ticket_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adam@tripisco.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HOTEL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"booking"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B453B32"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNPAID"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IDR"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1399993.0"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rate_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">139999300</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dirga Pahlevi"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nusantara"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"hand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"085607071341"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"home"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3953672"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jalan Sagu"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gresik"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61151"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Field name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>agent</td>
<td>String</td>
<td>The agent&rsquo;s ID.</td>
</tr>
<tr>
<td>doer</td>
<td>String</td>
<td>ID of the user making the booking.</td>
</tr>
<tr>
<td>ticket_email</td>
<td>String</td>
<td>An email address to which the itinerary is expected to be delivered at.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td>Booking type (the possible value currently is just <code class="prettyprint">HOTEL</code>).</td>
</tr>
<tr>
<td>booking</td>
<td>Object</td>
<td>A booking object, the <code class="prettyprint">ID</code> must be kept in your side for future reference. The <code class="prettyprint">status</code> will always evaluate to <code class="prettyprint">UNPAID</code>.</td>
</tr>
<tr>
<td>rate</td>
<td>Object</td>
<td>A rate object.</td>
</tr>
<tr>
<td>contact</td>
<td>Object</td>
<td>A contact object for the customer</td>
</tr>
</tbody></table>

<p>Upon hitting this API, the booking status will always evaluate to <code class="prettyprint">UNPAID</code>.
If you hit this API for the second time, an <code class="prettyprint">INTERR</code> will be raised.</p>

          <h1 id="erratic-responses">Erratic responses</h1>

<h2 id="list-of-erratic-responses">List of erratic responses</h2>

<p>Erratic response have a unique code for each error type, and is provided with
message given in English. You may want to substitute the message
to your local language if appropriate.</p>

<p>We will add support for Bahasa Indonesia in the future release.</p>

<table><thead>
<tr>
<th>code</th>
<th>meaning</th>
</tr>
</thead><tbody>
<tr>
<td>BKGERR</td>
<td>Error in doing the booking request.</td>
</tr>
<tr>
<td>DUPDAT</td>
<td>Duplicate record attempted to be made, for instance: attempting to register the user, account with an already registered email address.</td>
</tr>
<tr>
<td>ERRKEY</td>
<td>You send an invalid <code class="prettyprint">Authorization</code> header upon which no agent can be found.</td>
</tr>
<tr>
<td>INTERR</td>
<td>Type of error cannot be covered in detail by other error codes listed bellow; an internal error.</td>
</tr>
<tr>
<td>INVCRED</td>
<td>The user&rsquo;s given email and password cannot be found, or no authenticated user info can be found on API endpoint that requires <code class="prettyprint">user_token</code>.</td>
</tr>
<tr>
<td>MISPAR</td>
<td>Certain required parameter is missing from the request body.</td>
</tr>
<tr>
<td>NOANS</td>
<td>Search request yielded no results.</td>
</tr>
<tr>
<td>NOTAVL</td>
<td>Hotel/room is not available for booking (sending old request?)</td>
</tr>
<tr>
<td>OUTFAIL</td>
<td>Logout action cannot be performed due to an internal error, please retry.</td>
</tr>
<tr>
<td>WRGDATE</td>
<td>Wrong inputs on the date, eg. search date is yesterday/day in the past.</td>
</tr>
<tr>
<td>WRGINP</td>
<td>General wrong inputs, please ensure all fields are filled correctly.</td>
</tr>
<tr>
<td>WRGSTS</td>
<td>Wrong status/inappropriate status. Eg. customer attempt to pay already paid booking.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
